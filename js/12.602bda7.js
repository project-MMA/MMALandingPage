(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"6QsI":function(t,e,s){"use strict";var a=s("nDKh"),o=s.n(a);o.a},nDKh:function(t,e,s){},rT1m:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"flex bgimg"},[s("q-toolbar",{staticClass:"absolute-top",attrs:{color:"primary"}},[s("q-toolbar-title",{staticClass:"absolute-center"},[s("h4",{staticClass:"hide-desktop"},[s("q-icon",{attrs:{name:"message"}}),t._v("\n       Model Coordinator")],1),s("h5",{staticClass:"hide-mobile"},[s("q-icon",{attrs:{name:"message"}}),t._v("\n       Model Coordinator")],1)])],1),s("div",{staticClass:"q-pa-sm q-mt-xl",staticStyle:{width:"100%","max-width":"100vw"}},[s("div",{staticClass:"container row msgs",staticStyle:{"border-radius":"20px",height:"auto"}},[s("div",{staticClass:"scrollA scroll"},[s("div",{staticClass:"col-12 q-pa-sm q-ma-sm"},t._l(t.filterSentMessages,function(e){return s("q-chat-message",{key:e[".key"],attrs:{index:t.$moment(e.dateTime).format("lll"),label:t.$moment(e.dateTime).format("lll"),name:e.from,text:e.msg,stamp:t.$moment(e.dateTime).fromNow(),"bg-color":e.color,"text-color":e.text,sent:e.sent,avatar:e.avatar}})}))]),s("div",{staticClass:"col-12"},[s("q-input",{staticClass:"fixed-bottom bg-white text-dark q-pa-xs q-mb-sm q-mx-md",staticStyle:{"border-radius":"15px","border-color":"black"},attrs:{type:"textarea","hide-underline":"",label:"Text",placeholder:"Text"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}},[s("q-btn",{staticClass:"q-ma-sm",attrs:{flat:"",icon:"send"},on:{click:t.send}})],1)],1)])])],1)},o=[];a._withStripped=!0;s("91GP");var i=s("r7Fz"),n={components:{PayPal:i["a"]},created:function(){this.$bindAsArray("contractsigned",this.$database.ref("contractSigned")),this.accountNumber=this.$route.params.id,this.$bindAsArray("messages",this.$database.ref("messages/"+this.accountNumber)),console.log("cs",this.contractsigned)},computed:{getModelInfo:function(){var t=this,e=this.$lodash.filter(this.contractsigned,function(e){return e.accountNumber===t.accountNumber});return console.log("list",e),e[0]},filterSentMessages:function(){var t=[];try{for(var e=0;e<this.messages.length;e++){var s=Object.assign([],this.messages[e]);s.from!==this.getModelInfo.firstName?(delete s.sent,t.push(Object.assign({},s))):t.push(Object.assign({},s))}return console.log("filter SENT",t),t}catch(t){}}},name:"ModelDashboard",mounted:function(){this.$bindAsArray("events_activities",this.$database.ref("event_schedules/-LLTvAOc7i_U1_aEozvn/activities")),console.log("all events",this.events_activities),this.$bindAsArray("models",this.$database.ref("models")),this.$bindAsArray("events",this.$database.ref("events")),console.log("signed",this.contractsigned),this.scrollToEnd()},data:function(){return{opened:!1,changePass:!1,credentials:{sandbox:"Aczd4UCMH9RAugd6i1kzpNObiavUymIwatwju9Y8rE0641ybi1277VWnLxleBMjf7rhtqF78EEAE2TqH",production:"<production client id>"},models:[],events_activities:[],events:[],total:0,progress:!1,totalAmount:0,model:{},activities:[],items:0,accountNumber:"",contractsigned:[],message:"",messages:[]}},updated:function(){this.scrollToEnd()},methods:{send:function(){var t=this,e={to:"Model Coordinator",from:this.getModelInfo.firstName,msg:[this.message],dateTime:this.$moment().format("LLL"),color:"primary",text:"white",avatar:"statics/user.png",sent:!0,seen:!1};console.log(e),this.$database.ref("messages/"+this.accountNumber).push(e).then(function(){t.message=""})},scrollToEnd:function(){var t=document.querySelector(".scrollA"),e=t.scrollHeight;t.scrollTop=e}}},r=n,c=(s("6QsI"),s("KHd+")),l=Object(c["a"])(r,a,o,!1,null,null,null);e["default"]=l.exports}}]);